# Тестовое задание на позицию Senior NodeJS Developer в RSD
## Описание проекта
Данный проект представляет собой базовую структуру приложения, которую можно модифицировать любым удобным способом. Основная задача - реализовать API метод для получения рекомендованных песен с учетом определенных критериев.
## Структура базы данных
В проекте используются 4 основные таблицы:
- Artists (Артисты)
- Genres (Жанры)
- Users (Пользователи)
- Songs (Песни)

Схема базы данных определена в файле . `prisma/schema.prisma`
## Внешний сервис рекомендаций
В проекте имитируется работа с внешним сервисом рекомендаций, доступным по эндпоинту:
``` 
api/external-recommendations?user_id=<user_id>
```
Формат ответа
```
[
    {
        "score": 0.4,
        "songId": 1,
    },
    {
        "score": 0.2,
        "songId" 2
    }
]
```
Несмотря на то, что сервис реализован внутри приложения, взаимодействие с ним должно быть организовано как с внешним API.

**----------Примечание--------**

Предполагается, что данный внешний сервис будет пересчитывать скор максимум 1 раз в день, текущая реализация возвращает случайные числа на каждый вызов
## Основная задача
Необходимо реализовать API метод, возвращающий список песен в формате, определенном в `src/types/response.ts#ISong`.
Для простоты можно передавать user_id параметром в реализуемый метод для "идентификации" пользователя
### Логика определения label
Каждая песня в ответе должна иметь метку (label), которая может принимать одно из трех значений:
- **perfect_match**: присваивается, когда выполняются ОБА условия:
    - Жанр песни (Song#genre) присутствует в списке любимых жанров пользователя (User#favoriteGenres)
    - Score рекомендации > 0.6

- **good_match**: присваивается, когда выполняется ОДНО из условий выше
- **null**: присваивается во всех остальных случаях

### Сортировка результатов
Результаты должны быть отсортированы по убыванию score (песни с более высоким score должны быть в начале списка).
## Технический стек
Никаких ограничений, можно перекроить даже этот шаблон, главное показать навыки проектирования в стэке NodeJS

## Дополнительно

### По проекту
- Для удобства написан .env.example и скрипт для старта приложения в scripts/dev-entrypoint.sh, который подставит переменные из .env
- Имеется команда `yarn run seed`, которая заполнит базу
- docker-compose.local.yml файл с postgres:15 и redis:7.2

### Результат работы необходимо отправить обратным письмом с архивом кода, или ссылкой на Git репозиторий
